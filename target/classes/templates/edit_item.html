<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8" />
    <title>Edit Item</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script type="text/javascript" th:src="@{/js/readDataAsUrl.js}"></script>
<!--    <script src="../static/js/readDataAsUrl.js" type="text/javascript"></script>-->
</head>
<head th:include="/includes/head :: head (title='Welcome')" />
<body>

<div align="center">
    <h1>Edit Item</h1>
    <br />
    <form action="#" th:action="@{/save_item/}" th:object="${item}" enctype="multipart/form-data"
          method="post">

        <table border="0" cellpadding="10">
            <tr>
                <td>Item ID:</td>
                <td>
                    <input type="text" th:field="*{item_id}" readonly="readonly" />
                </td>
            </tr>
            <tr>
                <td>Item name:</td>
                <td>
                    <input type="text" th:field="*{name}" required />
                </td>
            </tr>
            <tr>
                <td>Item category:</td>
                <td>
                <select  name="category_id" id="category_id"  required >
                    <option  th:each="category: ${categories}"  th:value="${category.id}" th:text="${category.category_name}"
                    th:selected="${category.id==item.category_id}"></option>
                </select>
                </td>
            </tr>
            <tr>
                <td>Reserve price:</td>
                <td><input type="number" th:field="*{reserve_price}" required min="1"/></td>
            </tr>
            <tr>
                <td>Evaluation:</td>
                <td><input type="number" th:field="*{evaluation}" required min="1"/></td>
            </tr>

            <tr>
                <td>Image:</td>
<!--                @{'data:image/'+${item.image.type}+';base64,'+${item.image.data}}-->
                <td ><label for="imagePath"><img th:src="@{'data:image/'+${item.image.type}+';base64,'+${item.image.data}}" height="200px" id="imageLabel"></label><input type="file" id="imagePath" name="imagePath" hidden accept="image/*"  onchange="readURL(this);" th:text="*{image.name}"/></td>
            </tr>
            <tr>
                <td>Description:</td>
                <td><input type="text" th:field="*{description}" required min="50" max="250"/></td>
            </tr>
            <tr>
                <td colspan="2"><button type="submit">Save</button> </td>
            </tr>
        </table>
    </form>

</div>
<script >


</script>

</body>
</html>

<!--negoznaes-->