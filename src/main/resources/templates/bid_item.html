
<head th:replace="/includes/head :: head (title = 'Categories' )" xmlns:th="http://www.w3.org/1999/xhtml"/>
<div class="container">
    <div class="row text-center">
        <div class="col-sm-12">
        <h2  th:text="${name}"></h2>
            <h4 th:text="${category}"></h4>
    </div>
    </div>
    <div class="row">
        <div class="col-sm-4">
            <p> Seller: <p th:text="${seller}"> </p> </p>
            <p> Reservation price: <p th:text="${reservation_price}"> </p> </p>
            <p> Evaluation price: <p th:text="${evaluation_price}"> </p> </p>
        </div>
        <div class="col-sm-4">
            <img class="img-responsive" th:src="@{'data:image/'+${image.type}+';base64,'+${image.data}}" height="300px">
        </div>
        <div class="col-sm-4">
            <p> Description </p>
            <p th:text="${description}"></p>
        </div>
    </div>
    <br/>
    <br/>
    <div class=" text-center background-orange">
        <div th:if="${bid_state}==-1">
            <p> The auction will begin on <span th:text="${start_date}"> </span></p>
        </br>
            <p> And end on <span th:text="${end_date}"> </span></p>
            <p> Starting price is <span th:text="${reservation_price}"></span></p>
        </div>
        <div  th:if="${bid_state}==0">

            <p> Current highest bid is: <span th:text="${highest_bid}"></span></p>
            </br>
            <p> Bid is given by user :<span th:text="${highest_bidder}"> </span> </p>
            </br>
            <p> Bidding is open until <span th:text="${start_date}"></span></p>
            <form method="POST" th:action="@{'/bid_item/' + ${item_id}}"  th:object="${bid_form}" modelAttribute="bid_form">
            <p> Input your offer</p>
            <input type="number" th:field="*{new_offer}" th:min="${highest_bid}" th:required="required" autofocus="true"/>
            </br>
            <button class="btn btn-lg btn-primary btn-block" type="submit">Submit</button>
        </form>
        </div>
        <div th:if="${bid_state}==1">
            <p> The auction has ended. The winner is <span th:text="${highest_bidder}"></span> </p>
            <p> Item was Sold for <span th:text="${highest_bid}"> </span></p>
        </div>

    </div>
</div>
<head th:replace="/includes/footer :: footer" xmlns:th="http://www.w3.org/1999/xhtml"/>
